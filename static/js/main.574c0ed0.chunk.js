(this["webpackJsonpacnh-isle-comp"]=this["webpackJsonpacnh-isle-comp"]||[]).push([[0],{51:function(e,t,n){},53:function(e,t,n){},57:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(1),s=n.n(c),i=n(32),r=n.n(i),o=n(20),l=n(18),u=(n(51),n(14)),d=n.n(u),b=n(10),j=n(17),h=n(26),m=n(27),p=n(29),O=n(28),f=n(6),g=(n(53),n(30)),v=(n(73),n(55),function(){var e=Object(j.a)(d.a.mark((function e(t,n){var a,c,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return a=w.doc("users/".concat(t.uid)),e.next=5,a.get();case 5:if(e.sent.exists){e.next=17;break}return c=t.displayName,s=t.email,i=new Date,e.prev=9,e.next=12,a.set(Object(b.a)({displayName:c,email:s,createdAt:i},n));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.log("error creating user",e.t0.message);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(t,n){return e.apply(this,arguments)}}());g.a.initializeApp({apiKey:"AIzaSyD5C4ElaII6kcwJOItYdUe3Nf9B3IRKfns",authDomain:"acnh-isle-comp.firebaseapp.com",projectId:"acnh-isle-comp",storageBucket:"acnh-isle-comp.appspot.com",messagingSenderId:"771122363672",appId:"1:771122363672:web:2a90acff977ebea8ae326d",measurementId:"G-9PCXZ9MWR6"});var x=g.a.auth(),w=g.a.firestore(),y=new g.a.auth.GoogleAuthProvider;y.setCustomParameters({prompt:"select_account"});var k=function(){return x.signInWithPopup(y)};g.a;n.p;var N=n(19),C=n(16),S=Object(C.a)([function(e){return e.directory}],(function(e){return e.sections})),U=(n(57),Object(f.f)((function(e){var t=e.title,n=e.imageUrl,c=e.linkUrl,s=e.history,i=e.match;return Object(a.jsxs)("div",{className:"header-link",onClick:function(){return s.push("".concat(i.url).concat(c))},children:[Object(a.jsx)("div",{children:Object(a.jsx)("img",{className:"logo",src:n,alt:t})}),Object(a.jsx)("div",{className:"label-container",children:Object(a.jsx)("label",{className:"header-link-label",children:t.toUpperCase()})})]})}))),I=(n(59),Object(C.b)({sections:S})),P=Object(l.b)(I)((function(e){var t=e.sections;return Object(a.jsx)("div",{className:"header-menu",children:t.map((function(e){var t=e.id,n=Object(N.a)(e,["id"]);return Object(a.jsx)(U,Object(b.a)({},n),t)}))})})),A=(n(60),function(e){var t=e.currentUser;return Object(a.jsxs)("div",{className:"header",children:[Object(a.jsx)(f.c,{children:Object(a.jsx)(f.a,{path:"/acnh-isle-comp",component:P})}),Object(a.jsx)("div",{className:"sitetitle",children:Object(a.jsx)("h1",{children:"My Isle Compendium"})}),Object(a.jsx)("div",{className:"account",children:t?Object(a.jsx)("div",{className:"login",onClick:function(){return x.signOut()},children:"Logout"}):Object(a.jsx)(o.b,{className:"login",to:"/acnh-isle-comp/login",children:"Login"})})]})}),z=(n(61),Object(f.f)((function(e){var t=e.title,n=e.subtitle,c=e.imageUrl,s=e.size,i=e.history,r=e.linkUrl,o=e.match;return Object(a.jsxs)("div",{className:"".concat(s," menu-item"),onClick:function(){return i.push("".concat(o.url).concat(r))},children:[Object(a.jsx)("div",{children:Object(a.jsx)("img",{className:"background-image",src:c,alt:"icon"})}),Object(a.jsxs)("div",{className:"menu-item-content",children:[Object(a.jsx)("h1",{className:"title",children:t.toUpperCase()}),Object(a.jsx)("span",{className:"subtitle",children:n})]})]})}))),D=(n(62),Object(C.b)({sections:S})),E=Object(l.b)(D)((function(e){var t=e.sections;return Object(a.jsx)("div",{className:"directory-menu",children:t.map((function(e){var t=e.id,n=Object(N.a)(e,["id"]);return t>1?Object(a.jsx)(z,Object(b.a)({},n),t):null}))})})),q=(n(63),function(){return Object(a.jsx)("div",{className:"startpage",children:Object(a.jsx)(E,{})})}),G=n(41),W=function(e){return Object(a.jsx)("div",{style:{overflowY:"scroll",border:"1px solid black",height:"60vh"},children:e.children})},B=(n(64),Object(C.a)([function(e){return e.collections}],(function(e){return e.collections}))),F=(n(65),Object(C.b)({collections:B})),J=Object(l.b)(F)((function(e){var t=e.collections,n=Object(c.useState)([]),s=Object(G.a)(n,2),i=s[0],r=s[1],o=[];return console.log(i,"start"),Object(c.useEffect)((function(){Object.values(t).forEach((function(e){e.id;var t=e.category,n=e.subcategory;"catalog"===t&&(o.includes(n)||o.push(n))})),r(o)}),[]),Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:"catalog",children:Object(a.jsx)(W,{})})})})),M=n(25),K=(n(66),function(e){var t=e.handleChange,n=e.label,c=Object(N.a)(e,["handleChange","label"]);return Object(a.jsxs)("div",{className:"group",children:[Object(a.jsx)("input",Object(b.a)({className:"form-input",onChange:t},c)),n?Object(a.jsx)("label",{className:"".concat(c.value.length?"shrink":""," form-input-label"),children:n}):null]})}),L=(n(67),function(e){var t=e.children,n=e.isGoogleSignIn,c=Object(N.a)(e,["children","isGoogleSignIn"]);return Object(a.jsx)("button",Object(b.a)(Object(b.a)({className:"".concat(n?"google-sign-in":""," custom-button")},c),{},{children:t}))}),R=(n(68),function(e){Object(p.a)(n,e);var t=Object(O.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).handleSubmit=function(){var t=Object(j.a)(d.a.mark((function t(n){var a,c,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a=e.state,c=a.email,s=a.password,t.prev=2,t.next=5,x.signInWithEmailAndPassword(c,s);case 5:e.setState({email:"",password:""}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),console.log("error signing in with email",t.t0);case 11:e.setState({email:"",password:""});case 12:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){var n=t.target,a=n.value,c=n.name;e.setState(Object(M.a)({},c,a))},e.state={email:"",password:""},e}return Object(m.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"sign-in",children:[Object(a.jsx)("h2",{children:"I already have an account"}),Object(a.jsx)("span",{children:"Sign in with your email and password"}),Object(a.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(a.jsx)(K,{name:"email",type:"email",value:this.state.email,label:"email",handleChange:this.handleChange,required:!0}),Object(a.jsx)(K,{name:"password",type:"password",value:this.state.password,label:"password",handleChange:this.handleChange,required:!0}),Object(a.jsxs)("div",{className:"buttons",children:[Object(a.jsx)(L,{type:"submit",children:"Sign In"}),Object(a.jsx)(L,{onClick:k,isGoogleSignIn:!0,children:" Sign In With Google "})]})]})]})}}]),n}(s.a.Component)),Y=(n(69),function(e){Object(p.a)(n,e);var t=Object(O.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).handleSubmit=function(){var t=Object(j.a)(d.a.mark((function t(n){var a,c,s,i,r,o,l;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),a=e.state,c=a.displayName,s=a.email,i=a.password,r=a.confirmPassword,i===r){t.next=5;break}return alert("passwords don't match"),t.abrupt("return");case 5:return t.prev=5,t.next=8,x.createUserWithEmailAndPassword(s,i);case 8:return o=t.sent,l=o.user,t.next=12,v(l,{displayName:c});case 12:e.setState({displayName:"",email:"",password:"",confirmPassword:""}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(5),console.log("error signing up",t.t0);case 18:case"end":return t.stop()}}),t,null,[[5,15]])})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){var n=t.target,a=n.name,c=n.value;e.setState(Object(M.a)({},a,c))},e.state={displayName:"",email:"",password:"",confirmPassword:""},e}return Object(m.a)(n,[{key:"render",value:function(){var e=this.state,t=e.displayName,n=e.email,c=e.password,s=e.confirmPassword;return Object(a.jsxs)("div",{className:"sign-up",children:[Object(a.jsx)("h2",{className:"title",children:"I do not have an account"}),Object(a.jsx)("span",{children:"Sign up with your email and password"}),Object(a.jsxs)("form",{className:"sign-up-form",onSubmit:this.handleSubmit,children:[Object(a.jsx)(K,{type:"text",name:"displayName",value:t,onChange:this.handleChange,label:"Display Name",required:!0}),Object(a.jsx)(K,{type:"email",name:"email",value:n,onChange:this.handleChange,label:"Email",required:!0}),Object(a.jsx)(K,{type:"password",name:"password",value:c,onChange:this.handleChange,label:"Password",required:!0}),Object(a.jsx)(K,{type:"password",name:"confirmPassword",value:s,onChange:this.handleChange,label:"Confirm Password",required:!0}),Object(a.jsx)(L,{type:"submit",children:"Sign Up"})]})]})}}]),n}(s.a.Component)),X=(n(70),function(){return Object(a.jsxs)("div",{className:"login-page",children:[Object(a.jsx)(R,{}),Object(a.jsx)(Y,{})]})}),Z=(n(71),function(){return Object(a.jsx)("div",{children:Object(a.jsx)("span",{children:"text here, thanks, links, donate things"})})}),_=function(e){Object(p.a)(n,e);var t=Object(O.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).unsubscribeFromAuth=null,e.state={currentUser:null},e}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribeFromAuth=x.onAuthStateChanged(function(){var t=Object(j.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=7;break}return t.next=3,v(n);case 3:t.sent.onSnapshot((function(t){e.setState({currentUser:Object(b.a)({id:t.id},t.data())})})),t.next=8;break;case 7:e.setState({currentUser:n});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"componentWillUnmount",value:function(){this.unsubscribeFromAuth()}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(A,{currentUser:this.state.currentUser}),Object(a.jsxs)(f.c,{children:[Object(a.jsx)(f.a,{exact:!0,path:"/acnh-isle-comp",component:q}),Object(a.jsx)(f.a,{path:"/acnh-isle-comp/catalogs",component:J}),Object(a.jsx)(f.a,{path:"/acnh-isle-comp/login",component:X})]}),Object(a.jsx)(Z,{})]})}}]),n}(s.a.Component),H=n(21),Q=n(40),T=n.n(Q),V=n.p+"static/media/utilities.f4c0ac01.svg",$=n.p+"static/media/catalogcart.d193f546.svg",ee=n.p+"static/media/journal.3b36e2f7.svg",te=n.p+"static/media/friendsicon.0d9ee6b0.svg",ne=n.p+"static/media/islandlogo.8a7ce723.svg",ae=["home","catalogs","villagers","utilities","journal"],ce={sections:[{title:ae[0],subtitle:"coming soon",imageUrl:ne,id:1,size:"box",linkUrl:""},{title:ae[1],subtitle:"coming soon",imageUrl:$,id:2,size:"box",linkUrl:"/"+ae[1]},{title:ae[2],subtitle:"coming soon",imageUrl:te,id:3,size:"box",linkUrl:"/"+ae[2]},{title:ae[3],subtitle:"coming soon",imageUrl:V,id:4,size:"box",linkUrl:"/"+ae[3]},{title:ae[4],subtitle:"coming soon",imageUrl:ee,id:5,size:"box",linkUrl:"/"+ae[4]}]},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;return t.type,e},ie={collections:{}},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;return t.type,e},oe=Object(H.c)({directory:se,collections:re}),le=[T.a],ue=Object(H.d)(oe,H.a.apply(void 0,le));r.a.render(Object(a.jsx)(l.a,{store:ue,children:Object(a.jsx)(o.a,{children:Object(a.jsx)(_,{})})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.574c0ed0.chunk.js.map